<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>vazor | terminal</title>
<style>
    body {
        background: #000;
        color: #00ff6a;
        font-family: "Courier New", monospace;
        padding: 20px;
        font-size: 18px;
        overflow-x: hidden;
    }

    a { color:#00ff6a; text-decoration:none; }
    a:hover { text-shadow:0 0 10px #00ff6a; }

    .cursor {
        display:inline-block;
        width:10px;
        height:20px;
        background:#00ff6a;
        margin-left:3px;
        animation:blink .7s infinite;
    }

    @keyframes blink {
        0%{opacity:1;}
        50%{opacity:0;}
        100%{opacity:1;}
    }

    .matrix {
        position: fixed;
        top:0; left:0;
        width:100%; height:100%;
        z-index:-1;
        pointer-events:none;
        opacity:0.25;
    }

    /* neon projects panel */
    .projects {
        margin-top:40px;
        border:1px solid #00ff6a;
        padding:20px;
        border-radius:5px;
        box-shadow:0 0 15px #00ff6a;
    }
    .projects h2 {
        margin-top:0;
        color:#00ff6a;
    }

    .ascii {
        white-space: pre;
        margin-bottom: 20px;
        text-shadow: 0 0 5px #00ff6a;
    }

</style>
</head>
<body>

<canvas class="matrix"></canvas>
<div class="ascii" id="ascii"></div>

<div id="terminal"></div>
<div class="cursor"></div>

<audio id="bootSound" src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg"></audio>

<div class="projects" id="projects">
    <h2>Projects</h2>
    <div id="projectList">Loading...</div>
</div>

<script>
// ---------------- MATRIX BACKGROUND -----------------
const canvas=document.querySelector('.matrix');
const ctx=canvas.getContext('2d');
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

const letters="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
const fontSize=16;
const columns=canvas.width/fontSize;
const drops=Array.from({length:columns}).fill(1);

function drawMatrix(){
    ctx.fillStyle="rgba(0,0,0,0.05)";
    ctx.fillRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle="#00ff6a";
    ctx.font=fontSize+"px monospace";

    drops.forEach((y,i)=>{
        const text=letters.charAt(Math.floor(Math.random()*letters.length));
        ctx.fillText(text,i*fontSize,y*fontSize);

        if(y*fontSize>canvas.height && Math.random()>0.975) drops[i]=0;
        drops[i]++;
    });
}
setInterval(drawMatrix,35);


// ---------------- ASCII AVATAR -----------------
document.getElementById("ascii").textContent = `
      ______     ______     ______     ______    
     /\\  == \\   /\\  ___\\   /\\  __ \\   /\\  == \\   
     \\ \\  __<   \\ \\  __\\   \\ \\  __ \\  \\ \\  __<   
      \\ \\_\\ \\_\\  \\ \\_____\\  \\ \\_\\ \\_\\  \\ \\_\\ \\_\\ 
       \\/_/ /_/   \\/_____/   \\/_/\\/_/   \\/_/ /_/  
`;


// ---------------- TERMINAL BOOT SEQUENCE -----------------
const terminal = document.getElementById("terminal");
const bootSound=document.getElementById("bootSound");

let bootStarted = false;

function playBoot(){
    if(!bootStarted){
        bootStarted = true;
        bootSound.volume = 0.4;
        bootSound.play().catch(()=>{});
    }
}
document.addEventListener("click", playBoot, { once:true });

const bootLines = [
    "loading hacker modules...",
    "access granted.",
    "",
    ">>> I am vazor.",
    ">>> Type 'help' for available commands.",
    "",
];

let lineIndex = 0;

function typeBootLine(){
    if(lineIndex >= bootLines.length){
        startInteractiveTerminal();
        return;
    }

    const line = document.createElement("div");
    terminal.appendChild(line);

    let charIndex = 0;
    const typing = setInterval(()=>{
        line.textContent = bootLines[lineIndex].slice(0, charIndex);
        charIndex++;

        if(charIndex > bootLines[lineIndex].length){
            clearInterval(typing);
        }
    }, 20);

    lineIndex++;
    setTimeout(typeBootLine, bootLines[lineIndex - 1].length * 20 + 150);
}

typeBootLine();


// ---------------- INTERACTIVE TERMINAL -----------------
let interactiveStarted = false;

function startInteractiveTerminal(){
    if(interactiveStarted) return;
    interactiveStarted = true;

    let input = "";
    const inputDiv = document.createElement("div");
    terminal.appendChild(inputDiv);

    function update(){
        inputDiv.textContent = `user@vazor:~$ ${input}`;
    }

    document.addEventListener("keydown", (e)=>{
        if(e.key.length === 1){
            input += e.key;
        }
        if(e.key === "Backspace"){
            input = input.slice(0, -1);
        }
        if(e.key === "Enter"){
            processCommand(input);
            input = "";
        }
        update();
    });

    update();
}

function processCommand(cmd){
    const out = document.createElement("div");

    switch(cmd.trim()){
        case "help":
            out.textContent = "commands: help, github, thm, clear, whoami";
            break;

        case "github":
            out.innerHTML = "<a href='https://github.com/vazor-code' target='_blank'>Opening GitHub...</a>";
            break;

        case "thm":
            out.innerHTML = "<a href='https://tryhackme.com/p/vazor' target='_blank'>Opening TryHackMe...</a>";
            break;

        case "whoami":
            out.textContent = "vazor — programmer & ethical hacking enthusiast.";
            break;

        case "clear":
            terminal.innerHTML = "";
            break;

        default:
            out.textContent = "unknown command";
    }

    terminal.appendChild(out);
}


// ---------------- PROJECT LOADER -----------------
fetch("https://api.github.com/users/vazor-code/repos")
  .then(r => r.json())
  .then(repos => {
      const container = document.getElementById("projectList");
      container.innerHTML = "";

      repos.slice(0, 5).forEach(repo => {
          const div = document.createElement("div");
          div.innerHTML = `• <a href="${repo.html_url}" target="_blank">${repo.name}</a>`;
          container.appendChild(div);
      });
  });
</script>


</body>
</html>
